{"version":3,"sources":["Box.js","components/ExpandButton.js","components/branch/Split.js","components/branch/SplitList.js","components/branch/Branch.js","components/branch/BranchList.js","SideNav.js","benchmark.js","storage.js","Header.js","layout.js","Footer.js","Actions.js","Alert.js","limit.js","App.js","index.js"],"names":["Box","layout","children","borderClass","className","clsx","style","position","top","y","left","x","width","w","height","h","ExpandButton","expanded","setExpanded","onClick","Split","name","branchIndex","index","isLast","isLastBranch","isFirstBranch","editing","actions","title","disabled","setSplitExpandedAt","colSpan","placeholder","type","value","onChange","e","setSplitNameAt","target","displayAlert","hideAlert","deleteSplitAt","createSplitAt","SplitList","splits","splitNodes","map","split","i","length","push","Branch","branchNode","setBranchExpandedAt","setBranchNameAt","swapBranchesAt","deleteBranchAt","createBranchAt","concat","BranchList","branches","branch","SideNav","props","state","enabled","this","setState","buttonSection","setEditEnabled","branchSection","header","setSideCollapsed","sideCollapsed","main","React","Component","benchmarkTime","Date","getTime","benchmarkDelta","start","KEY","readFromLocalStorage","str","localStorage","getItem","sanitizeState","JSON","parse","projectName","activeSplit","activeBranch","sanitizeIndex","sanitizeBranch","array","template","clean","sanitizeSplit","sanitizeAction","action","deltas","sanitizeDelta","delta","Header","autoSave","useState","undefined","file","setFile","setProjectName","prompt","console","log","files","startTime","storedStateCallback","reader","FileReader","onloadend","result","readAsText","readFromFile","storedState","loadStoredState","download","setAutoSave","saveStateToLocalStorage","calc","join","max","a","b","resourceCollapsed","windowWidth","windowHeight","HEADER_HEIGHT","FOOTER_HEIGHT","SIDE_HEADER_HEIGHT","ACTION_WIDTH","centerHeight","sideWidth","mainWidth","resourceHeight","mapHeight","side","footer","resources","Footer","text","Action","resourcesCollapsed","setResourcesCollapsed","Alert","okText","cancelText","onOk","onCancel","backgroundColor","boxSizing","padding","bottom","right","App","info","dimensions","autoSaveHandle","onAlertOk","onAlertCancel","alertOkText","alertCancelText","alertText","window","addEventListener","calculateDimensions","bind","deepCopyDelta","deepCopyAction","deepCopySplit","handle","setInterval","clearInterval","setInformation","storedStateLoadFunction","stringify","setItem","saveToLocalStorage","getStateToStore","removeEventListener","property","branchesCopy","createDeepCopyOfBranchesFromState","j","branchCopy","temp","newActiveBranch","newBranch","splice","newActiveSplit","newSplit","blob","Blob","document","createElement","fileName","href","URL","createObjectURL","dataset","downloadurl","display","body","appendChild","click","removeChild","setTimeout","revokeObjectURL","downloadToFile","setBranchPropertyAt","setSplitPropertyAt","downloadStateToFile","src","c","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.89bcf797.chunk.js","sourcesContent":["import clsx from 'clsx';\r\nexport default function Box({ layout, children, borderClass }) {\r\n\treturn (\r\n\t\t<div className={clsx(\"component\", borderClass)}\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\ttop: layout.y,\r\n\t\t\t\tleft: layout.x,\r\n\t\t\t\twidth: layout.w,\r\n\t\t\t\theight: layout.h\r\n\t\t\t}}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}","export default function ExpandButton({ expanded, setExpanded }) {\r\n\treturn (\r\n\t\t<button className=\"icon-button\" onClick={() => setExpanded(!expanded)}>{expanded ? \"-\" : \"+\"}</button>\r\n\t)\r\n}","import ExpandButton from \"../ExpandButton\";\r\nexport default function Split({ name, branchIndex, index, expanded, isLast, isLastBranch, isFirstBranch, editing, actions }) {\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td className=\"icon-button-width\">{editing && <button className=\"icon-button\" title=\"Break branch\" disabled>{\"/\"}</button>}</td>\r\n\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t<ExpandButton expanded={expanded} setExpanded={(expanded) => actions.setSplitExpandedAt(branchIndex, index, expanded)} />\r\n\t\t\t</td>\r\n\t\t\t<td colSpan=\"2\">\r\n\t\t\t\t{editing ?\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"full-width\"\r\n\t\t\t\t\t\tplaceholder=\"Split Name\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => actions.setSplitNameAt(branchIndex, index, e.target.value)} />\r\n\t\t\t\t\t: <u>{name}</u>}\r\n\t\t\t</td>\r\n\t\t\t{editing && <td className=\"icon-button-width\">\r\n\t\t\t\t<button className=\"icon-button\" title=\"Copy\" disabled>c</button>\r\n\t\t\t</td>}\r\n\r\n\t\t\t{editing && <td className=\"icon-button-width\">\r\n\t\t\t\t<button className=\"icon-button\" disabled={index === 0 && isFirstBranch} title=\"Move up\" >&uarr;</button>\r\n\t\t\t</td>}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"Move down\" disabled={isLast && isLastBranch}>&darr;</button>\r\n\t\t\t\t</td>}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"Delete\" onClick={() => {\r\n\t\t\t\t\t\tactions.displayAlert(`Delete split ${name}? This will also delete all actions in the split. (Not reversible)`, \"Delete\", () => {\r\n\t\t\t\t\t\t\tactions.hideAlert();\r\n\t\t\t\t\t\t\tactions.deleteSplitAt(branchIndex, index);\r\n\t\t\t\t\t\t}, \"Cancel\", () => {\r\n\t\t\t\t\t\t\tactions.hideAlert();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}>X</button>\r\n\t\t\t\t</td>\r\n\t\t\t}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"New Split Below\" onClick={() => actions.createSplitAt(branchIndex, index + 1)}>*</button>\r\n\t\t\t\t</td>\r\n\t\t\t}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"Paste Split Below\" disabled onClick={() => actions.createSplitAt(branchIndex, index + 1)}>p</button>\r\n\t\t\t\t</td>\r\n\t\t\t}\r\n\t\t</tr>\r\n\t)\r\n}","import Split from \"./Split\";\r\n\r\nexport default function SplitList({ branchIndex, splits, isLastBranch, isFirstBranch, editing, actions }) {\r\n\tconst splitNodes = splits.map((split, i) => (\r\n\t\t<Split\r\n\t\t\tkey={`${branchIndex}-${i}`}\r\n\t\t\tname={split.name}\r\n\t\t\tbranchIndex={branchIndex}\r\n\t\t\tindex={i}\r\n\t\t\texpanded={split.expanded}\r\n\t\t\tisLast={i == splits.length - 1}\r\n\t\t\tisLastBranch={isLastBranch}\r\n\t\t\tisFirstBranch={isFirstBranch}\r\n\t\t\tediting={editing}\r\n\t\t\tactions={actions}\r\n\t\t/>\r\n\t));\r\n\tsplitNodes.push(<tr>\r\n\t\t<td className=\"icon-button-width\">{editing && <button className=\"icon-button\" disabled title=\"Merge branch\">^</button>}</td>\r\n\t\t<td colSpan=\"4\">\r\n\t\t\t<button onClick={() => actions.createSplitAt(branchIndex, splits.length)}>New Split</button>\r\n\t\t\t<button className=\"space-left-small\" disabled>Paste Split</button>\r\n\t\t</td>\r\n\t</tr>);\r\n\treturn splitNodes;\r\n}","import ExpandButton from \"../ExpandButton\";\r\nimport SplitList from \"./SplitList\";\r\n\r\nexport default function Branch({ name, index, expanded, editing, actions, isLast, splits }) {\r\n\r\n\tconst branchNode = (\r\n\t\t<tr>\r\n\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t<ExpandButton expanded={expanded} setExpanded={(expanded) => actions.setBranchExpandedAt(index, expanded)} />\r\n\t\t\t</td>\r\n\t\t\t<td colSpan=\"6\">\r\n\t\t\t\t{editing ?\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"full-width\"\r\n\t\t\t\t\t\tplaceholder=\"Branch Name\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => actions.setBranchNameAt(index, e.target.value)} />\r\n\t\t\t\t\t: <strong>{name}</strong>}\r\n\r\n\t\t\t</td>\r\n\t\t\t{editing && <td className=\"icon-button-width\">\r\n\t\t\t\t<button className=\"icon-button\" disabled={index === 0} title=\"Move up\" onClick={() => actions.swapBranchesAt(index, index - 1)}>&uarr;</button>\r\n\t\t\t</td>}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"Move down\" disabled={isLast} onClick={() => actions.swapBranchesAt(index, index + 1)}>&darr;</button>\r\n\t\t\t\t</td>}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"Delete\" onClick={() => {\r\n\t\t\t\t\t\tactions.displayAlert(`Delete branch ${name}? This will also delete all the splits in the branch. (Not reversible)`, \"Delete\", () => {\r\n\t\t\t\t\t\t\tactions.hideAlert();\r\n\t\t\t\t\t\t\tactions.deleteBranchAt(index);\r\n\t\t\t\t\t\t}, \"Cancel\", () => {\r\n\t\t\t\t\t\t\tactions.hideAlert();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}>X</button>\r\n\t\t\t\t</td>\r\n\t\t\t}\r\n\t\t\t{editing &&\r\n\t\t\t\t<td className=\"icon-button-width\">\r\n\t\t\t\t\t<button className=\"icon-button\" title=\"New Branch Below\" onClick={() => actions.createBranchAt(index + 1)}>*</button>\r\n\t\t\t\t</td>\r\n\t\t\t}\r\n\t\t</tr>\r\n\t);\r\n\tif (!expanded) {\r\n\t\treturn branchNode;\r\n\t}\r\n\treturn [branchNode].concat(<SplitList\r\n\t\tbranchIndex={index}\r\n\t\tsplits={splits}\r\n\t\tisLastBranch={isLast}\r\n\t\tisFirstBranch={index === 0}\r\n\t\tediting={editing}\r\n\t\tactions={actions}\r\n\t/>)\r\n}","import Branch from \"./Branch\";\r\n\r\nexport default function BranchList({ branches, editing, actions }) {\r\n\tif (!branches) return null;\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<tbody>\r\n\t\t\t\t{branches.map((branch, i) => (\r\n\t\t\t\t\t<Branch\r\n\t\t\t\t\t\tname={branch.name}\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\texpanded={branch.expanded}\r\n\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\tisLast={i === branches.length - 1}\r\n\t\t\t\t\t\tsplits={branch.splits}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td colSpan=\"3\">\r\n\t\t\t\t\t\t<button onClick={() => actions.createBranchAt(branches.length)}>New Branch</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\r\n\t\t\t</tbody>\r\n\r\n\t\t</table>\r\n\t)\r\n}","import React from \"react\";\r\nimport Box from \"./Box\";\r\nimport BranchList from \"./components/branch/BranchList\";\r\n\r\nexport default class SideNav extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tsetEditEnabled(enabled) {\r\n\t\tthis.setState({ editing: enabled });\r\n\t}\r\n\trender() {\r\n\t\tlet buttonSection = (\r\n\t\t\t<span>\r\n\t\t\t\t<button className=\"space-left-small\" onClick={() => this.setEditEnabled(!this.state.editing)}>{this.state.editing ? \"Finish\" : \"Edit\"}</button>\r\n\t\t\t\t<button className=\"space-left-small\" disabled >Collapse</button>\r\n\t\t\t\t<button className=\"space-left-small\" disabled>Expand</button>\r\n\t\t\t</span>\r\n\t\t);\r\n\t\tlet branchSection =\r\n\t\t\t<BranchList\r\n\t\t\t\tbranches={this.props.branches}\r\n\t\t\t\tediting={this.state.editing}\r\n\t\t\t\tactions={this.props.actions} />;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Box layout={this.props.layout.header} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button onClick={() => this.props.actions.setSideCollapsed(!this.props.sideCollapsed)}>{this.props.sideCollapsed ? \">>\" : \"<<\"}</button>\r\n\t\t\t\t\t\t{!this.props.sideCollapsed && buttonSection}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box layout={this.props.layout.main} borderClass=\"overflow-auto\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{!this.props.sideCollapsed && branchSection}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","export function benchmarkTime() {\r\n\treturn new Date().getTime();\r\n}\r\n\r\nexport function benchmarkDelta(start) {\r\n\treturn new Date().getTime() - start;\r\n}","\r\nconst KEY = \"RRT_STATE_v1\"\r\n\r\n\r\nexport function readFromFile(file, storedStateCallback) {\r\n\tif (file) {\r\n\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = () => {\r\n\t\t\tconst str = reader.result;\r\n\t\t\tif (str) {\r\n\t\t\t\tstoredStateCallback(sanitizeState(JSON.parse(str)));\r\n\t\t\t} else {\r\n\t\t\t\tstoredStateCallback(sanitizeState());\r\n\t\t\t}\r\n\t\t}\r\n\t\treader.readAsText(file);\r\n\t}\r\n\r\n}\r\n\r\nexport function downloadToFile(state) {\r\n\tconst str = JSON.stringify(sanitizeState(state));\r\n\tconst blob = new Blob([str], { type: \"text\" });\r\n\tconst a = document.createElement('a');\r\n\tconst fileName = state.projectName + \".json\" || \"Resource_Routing.json\";\r\n\ta.download = fileName\r\n\ta.href = URL.createObjectURL(blob);\r\n\ta.dataset.downloadurl = [\"text\", a.download, a.href].join(':');\r\n\ta.style.display = \"none\";\r\n\tdocument.body.appendChild(a);\r\n\ta.click();\r\n\tdocument.body.removeChild(a);\r\n\tsetTimeout(function () { URL.revokeObjectURL(a.href); }, 1500);\r\n}\r\n\r\nexport function readFromLocalStorage() {\r\n\tconst str = localStorage.getItem(KEY);\r\n\tif (str) {\r\n\t\treturn sanitizeState(JSON.parse(str));\r\n\t} else {\r\n\t\treturn sanitizeState();\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(state) {\r\n\tconst str = JSON.stringify(sanitizeState(state));\r\n\tlocalStorage.setItem(KEY, str);\r\n}\r\n\r\nexport function clearLocalStorage() {\r\n\tlocalStorage.removeItem(KEY);\r\n}\r\n\r\nfunction sanitizeState(state) {\r\n\tif (!state) {\r\n\t\treturn {\r\n\t\t\tprojectName: \"Untitled Project\",\r\n\t\t\tactiveSplit: -1,\r\n\t\t\tactiveBranch: -1,\r\n\t\t\tbranches: []\r\n\t\t}\r\n\t}\r\n\tconst activeBranch = sanitizeIndex(state.activeBranch, state.branches);\r\n\tlet activeSplit;\r\n\tif (activeBranch === -1) {\r\n\t\tactiveSplit = -1;\r\n\t} else {\r\n\t\tactiveSplit = sanitizeIndex(state.activeSplit, state.branches[state.activeBranch].splits);\r\n\t}\r\n\treturn {\r\n\t\tprojectName: state.projectName || \"Untitled Project\",\r\n\t\tactiveBranch,\r\n\t\tactiveSplit,\r\n\t\tbranches: state.branches.map(sanitizeBranch)\r\n\t}\r\n}\r\n\r\nfunction sanitizeIndex(i, array) {\r\n\tif (!array || !array.length) return -1;\r\n\tif (i < 0) return -1;\r\n\tif (i > array.length) return -1;\r\n\treturn i;\r\n}\r\n\r\nfunction sanitizeBranch(branch) {\r\n\tconst template = {\r\n\t\tname: \"\",\r\n\t\texpanded: false,\r\n\t\tsplits: []\r\n\t}\r\n\tif (!branch) {\r\n\t\treturn { ...template };\r\n\t}\r\n\tconst clean = { ...template };\r\n\tif (branch.name) {\r\n\t\tclean.name = branch.name;\r\n\t}\r\n\tif (branch.expanded) {\r\n\t\tclean.expanded = true;\r\n\t}\r\n\tif (branch.splits) {\r\n\t\tclean.splits = branch.splits.map(sanitizeSplit)\r\n\t}\r\n\treturn clean;\r\n}\r\n\r\nfunction sanitizeSplit(split) {\r\n\tconst template = {\r\n\t\tname: \"\",\r\n\t\texpanded: false,\r\n\t\tactions: []\r\n\t}\r\n\tif (!split) {\r\n\t\treturn { ...template };\r\n\t}\r\n\tconst clean = { ...template };\r\n\tif (split.name) {\r\n\t\tclean.name = split.name;\r\n\t}\r\n\tif (split.expanded) {\r\n\t\tclean.expanded = true;\r\n\t}\r\n\tif (split.actions) {\r\n\t\tclean.actions = split.actions.map(sanitizeAction)\r\n\t}\r\n\treturn clean;\r\n}\r\n\r\nfunction sanitizeAction(action) {\r\n\tconst template = {\r\n\t\tname: \"\",\r\n\t\tdeltas: []\r\n\t}\r\n\tif (!action) {\r\n\t\treturn { ...template };\r\n\t}\r\n\tconst clean = { ...template };\r\n\tif (action.name) {\r\n\t\tclean.name = action.name;\r\n\t}\r\n\tif (action.deltas) {\r\n\t\tclean.deltas = action.deltas.map(sanitizeDelta)\r\n\t}\r\n}\r\n\r\nfunction sanitizeDelta(delta) {\r\n\treturn {};\r\n}\r\n\r\n","import { useState } from 'react';\r\nimport { benchmarkTime } from './benchmark';\r\nimport { readFromFile } from './storage';\r\nexport default function Header({ autoSave, projectName, actions }) {\r\n\tconst [file, setFile] = useState(undefined);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>{projectName}</h1>\r\n\t\t\t<button className=\"vertical-center space-left-small\" onClick={() => {\r\n\t\t\t\tactions.setProjectName(prompt(\"Enter Project Name\", projectName));\r\n\t\t\t}}>Edit Project Name</button>\r\n\t\t\t<input className=\"vertical-center space-left-small\" type=\"file\" onChange={(e) => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tsetFile(e.target.files);\r\n\t\t\t}} />\r\n\t\t\t<button className=\"vertical-center space-left-small\" disabled={!file} onClick={() => {\r\n\t\t\t\tif (file && file[0]) {\r\n\t\t\t\t\tconst startTime = benchmarkTime();\r\n\t\t\t\t\treadFromFile(file[0], (storedState) => {\r\n\t\t\t\t\t\tactions.loadStoredState(() => storedState, startTime);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}}>Import</button>\r\n\t\t\t<button className=\"vertical-center space-left-small\" onClick={() => actions.download()}>Export</button>\r\n\t\t\t<button className=\"vertical-center space-left-small\" onClick={() => actions.setAutoSave(!autoSave)}>{autoSave ? \"Auto Save: Enabled\" : \"Auto Save: Disabled\"}</button>\r\n\t\t\t<button className=\"vertical-center space-left-small\" onClick={() => actions.saveStateToLocalStorage()}>Save</button>\r\n\t\t</div>\r\n\r\n\t)\r\n}","export function calc(...array) {\r\n\treturn `calc(${array.join(\" \")})`;\r\n}\r\n\r\nexport function min(a, b) {\r\n\treturn `min(${a}, ${b})`;\r\n}\r\n\r\nexport function max(a, b) {\r\n\treturn `max(${a}, ${b})`;\r\n}\r\n\r\n\r\nexport default function layout(sideCollapsed, resourceCollapsed) {\r\n\t//const resourceCollapsed = false;\r\n\t// const sideCollapsed = true;\r\n\r\n\tconst windowWidth = \"100vw\";\r\n\tconst windowHeight = \"100vh\";\r\n\tconst HEADER_HEIGHT = \"3rem\";\r\n\tconst FOOTER_HEIGHT = \"2rem\";\r\n\r\n\tconst SIDE_MIN_WIDTH = \"16rem\";\r\n\tconst SIDE_WIDTH = \"30%\";\r\n\tconst SIDE_MAX_WIDTH = \"24rem\";\r\n\r\n\tconst SIDE_COLLAPSE_WIDTH = \"3rem\";\r\n\r\n\tconst SIDE_HEADER_HEIGHT = \"2rem\";\r\n\r\n\tconst RESOURCE_MIN_HEIGHT = \"12rem\";\r\n\tconst RESOURCE_HEIGHT = \"20%\";\r\n\r\n\tconst RESOURCE_COLLAPSE_HEIGHT = \"1.8rem\";\r\n\r\n\tconst ACTION_WIDTH = \"50rem\";\r\n\r\n\tconst centerHeight = calc(windowHeight, \"-\", HEADER_HEIGHT, \"-\", FOOTER_HEIGHT);\r\n\tconst sideWidth = sideCollapsed ? SIDE_COLLAPSE_WIDTH : max(SIDE_MIN_WIDTH, min(SIDE_MAX_WIDTH, SIDE_WIDTH));\r\n\tconst mainWidth = calc(windowWidth, \"-\", sideWidth);\r\n\tconst resourceHeight = resourceCollapsed ? RESOURCE_COLLAPSE_HEIGHT : max(RESOURCE_MIN_HEIGHT, RESOURCE_HEIGHT);\r\n\tconst mapHeight = calc(centerHeight, \"-\", resourceHeight);\r\n\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tw: windowWidth,\r\n\t\t\th: HEADER_HEIGHT,\r\n\t\t},\r\n\t\tside: {\r\n\t\t\tx: 0,\r\n\t\t\ty: HEADER_HEIGHT,\r\n\t\t\tw: sideWidth,\r\n\t\t\th: centerHeight,\r\n\t\t\theader: {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tw: \"100%\",\r\n\t\t\t\th: SIDE_HEADER_HEIGHT,\r\n\t\t\t},\r\n\t\t\tmain: {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: SIDE_HEADER_HEIGHT,\r\n\t\t\t\tw: \"100%\",\r\n\t\t\t\th: calc(centerHeight, \"-\", SIDE_HEADER_HEIGHT),\r\n\t\t\t},\r\n\t\t},\r\n\t\tfooter: {\r\n\t\t\tx: 0,\r\n\t\t\ty: calc(windowHeight, \"-\", FOOTER_HEIGHT),\r\n\t\t\tw: windowWidth,\r\n\t\t\th: FOOTER_HEIGHT,\r\n\t\t},\r\n\t\tresources: {\r\n\t\t\tx: calc(sideWidth, \"+\", ACTION_WIDTH),\r\n\t\t\ty: calc(windowHeight, \"-\", FOOTER_HEIGHT, \"-\", resourceHeight),\r\n\t\t\tw: ACTION_WIDTH,\r\n\t\t\th: resourceHeight\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tx: sideWidth,\r\n\t\t\ty: calc(windowHeight, \"-\", FOOTER_HEIGHT, \"-\", resourceHeight),\r\n\t\t\tw: ACTION_WIDTH,\r\n\t\t\th: resourceHeight\r\n\t\t},\r\n\t\tmap: {\r\n\t\t\tx: sideWidth,\r\n\t\t\ty: HEADER_HEIGHT,\r\n\t\t\tw: mainWidth,\r\n\t\t\th: mapHeight\r\n\t\t},\r\n\r\n\t}\r\n\r\n}\r\n\r\n","export default function Footer({ text }) {\r\n\treturn (\r\n\t\t<span className=\"vertical-center\">{text}</span>\r\n\t)\r\n}","import ExpandButton from \"./components/ExpandButton\";\r\n\r\nexport default function Action({ resourcesCollapsed, setResourcesCollapsed }) {\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t<div>\r\n\t\t\t\t<ExpandButton\r\n\t\t\t\t\texpanded={!resourcesCollapsed} setExpanded={(expanded) => setResourcesCollapsed(!expanded)} />\r\n\t\t\t\t<strong> Split Detail</strong>\r\n\t\t\t</div>\r\n\t\t\t[WIP]\r\n\t\t</div>\r\n\t)\r\n}","import Box from \"./Box\";\r\n\r\nimport { calc } from \"./layout\";\r\nexport default function Alert({ enabled, text, okText, cancelText, onOk, onCancel }) {\r\n\tif (!enabled) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst width = \"50%\";\r\n\tconst height = \"12rem\";\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundColor: \"rgba(0,0,0,0.6)\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\twidth: \"100vw\",\r\n\t\t\t\t\theight: \"100vh\"\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<Box layout={{\r\n\t\t\t\tx: calc(calc(\"100vw\", \"-\", width), \"/\", 2),\r\n\t\t\t\ty: calc(calc(\"100vh\", \"-\", height), \"/\", 2),\r\n\t\t\t\tw: width,\r\n\t\t\t\th: height,\r\n\t\t\t}}>\r\n\t\t\t\t<div style={{ backgroundColor: \"white\", height: \"100%\", boxSizing: \"border-box\", padding: \"1rem\" }}>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\tbottom: \"1rem\",\r\n\t\t\t\t\t\tright: \"1rem\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button onClick={() => onOk()}>{okText}</button>\r\n\t\t\t\t\t\t{onCancel !== undefined && <button className=\"margin-small\" onClick={() => onCancel()}>{cancelText}</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}","export const BRANCH_LIMIT = 128;\r\nexport const SPLIT_LIMIT = 200;\r\nexport const ACTION_LIMIT = 50;","import React from 'react';\nimport './App.css';\nimport SideNav from './SideNav';\nimport Header from './Header';\nimport layout from './layout';\nimport Footer from './Footer';\nimport Box from './Box';\nimport Actions from './Actions';\nimport { readFromLocalStorage, saveToLocalStorage, downloadToFile } from './storage';\nimport Alert from './Alert';\nimport { BRANCH_LIMIT, SPLIT_LIMIT } from './limit';\nimport { benchmarkTime, benchmarkDelta } from './benchmark';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      info: \"Loading...\",\n      projectName: \"Loading...\",\n      sideCollapsed: false,\n      resourcesCollapsed: false,\n      dimensions: undefined,\n      branches: [],\n      activeBranch: -1,\n      activeSplit: -1,\n      autoSave: true,\n      autoSaveHandle: undefined,\n      displayAlert: false,\n      onAlertOk: undefined,\n      onAlertCancel: undefined,\n      alertOkText: undefined,\n      alertCancelText: undefined,\n      alertText: undefined,\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.calculateDimensions.bind(this));\n    this.calculateDimensions();\n    this.loadStoredState(readFromLocalStorage);\n    this.setAutoSave(true);\n  }\n\n  createDeepCopyOfBranchesFromState() {\n    function deepCopyDelta(delta) {\n      return { ...delta }\n    }\n    function deepCopyAction(action) {\n      return {\n        name: action.name,\n        deltas: action.deltas.map(deepCopyDelta)\n      }\n    }\n    function deepCopySplit(split) {\n      return {\n        name: split.name,\n        expanded: split.expanded,\n        actions: split.actions.map(deepCopyAction)\n      }\n    }\n    return this.state.branches.map(branch => {\n      return {\n        name: branch.name,\n        expanded: branch.expanded,\n        splits: branch.splits.map(deepCopySplit)\n      }\n    })\n  }\n\n  setAutoSave(autoSave) {\n    if (!autoSave) {\n      if (this.state.autoSaveHandle) {\n        const handle = this.state.autoSaveHandle;\n        this.setState({\n          autoSaveHandle: undefined,\n          autoSave: false\n        }, () => {\n          window.clearInterval(handle)\n        })\n      } else {\n        this.setState({\n          autoSave: false\n        });\n      }\n      this.setInformation(\"Auto save is now off.\");\n    } else {\n      if (this.state.autoSaveHandle) {\n        const handle = this.state.autoSaveHandle;\n        this.setState({\n          autoSaveHandle: window.setInterval(() => {\n            this.saveStateToLocalStorage();\n          }, 20000),\n          autoSave: true\n        }, () => {\n          window.clearInterval(handle)\n        })\n      } else {\n        this.setState({\n          autoSaveHandle: window.setInterval(() => {\n            this.saveStateToLocalStorage();\n          }, 20000),\n          autoSave: true\n        })\n      };\n      this.saveStateToLocalStorage();\n    }\n  }\n\n\n  loadStoredState(storedStateLoadFunction, start) {\n    const startTime = start || benchmarkTime();\n    const storedState = storedStateLoadFunction();\n    if (storedState) {\n      this.setState({\n        branches: storedState.branches,\n        activeBranch: storedState.activeBranch,\n        activeSplit: storedState.activeSplit,\n        projectName: storedState.projectName,\n      }, () => {\n        this.setInformation(`Data loaded in ${benchmarkDelta(startTime)} ms`);\n      })\n    }\n  }\n\n  saveStateToLocalStorage() {\n    const startTime = benchmarkTime();\n    saveToLocalStorage(this.getStateToStore());\n    this.setInformation(`Saved to local storage in ${benchmarkDelta(startTime)} ms. Last saved at ${new Date()}`);\n  }\n\n  getStateToStore() {\n    return {\n      branches: this.state.branches,\n      activeBranch: this.state.activeBranch,\n      activeSplit: this.state.activeSplit,\n      projectName: this.state.projectName,\n    }\n  }\n\n  calculateDimensions() {\n    const dimensions = layout(this.state.sideCollapsed, this.state.resourcesCollapsed);\n    this.setState({ dimensions });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.calculateDimensions.bind(this));\n    if (this.state.autoSaveHandle) {\n      window.clearInterval(this.state.autoSaveHandle);\n    }\n  }\n\n  setSideCollapsed(sideCollapsed) {\n    this.setState({\n      sideCollapsed: sideCollapsed,\n      dimensions: layout(sideCollapsed, this.state.resourcesCollapsed),\n    });\n  }\n\n  setResourcesCollapsed(resourcesCollapsed) {\n    this.setState({\n      resourcesCollapsed: resourcesCollapsed,\n      dimensions: layout(this.state.sideCollapsed, resourcesCollapsed),\n    });\n  }\n\n  setInformation(info) {\n    this.setState({ info });\n  }\n\n  setProjectName(name) {\n    this.setState({\n      projectName: name\n    })\n  }\n\n  setBranchPropertyAt(index, property, value) {\n    const branchesCopy = this.createDeepCopyOfBranchesFromState();\n    branchesCopy[index][property] = value;\n    this.setState({\n      branches: branchesCopy\n    });\n  }\n  swapBranchesAt(i, j) {\n    if (i >= 0 && i < this.state.branches.length && j >= 0 && j < this.state.branches.length && i !== j) {\n      const startTime = benchmarkTime();\n      const branchCopy = this.createDeepCopyOfBranchesFromState();\n      const temp = branchCopy[i];\n      branchCopy[i] = branchCopy[j];\n      branchCopy[j] = temp;\n      let newActiveBranch = this.state.activeBranch;\n      if (this.state.activeBranch === i) {\n        newActiveBranch = j;\n      } else if (this.state.activeBranch === j) {\n        newActiveBranch = i;\n      }\n      this.setState({\n        branches: branchCopy,\n        activeBranch: newActiveBranch,\n      }, () => {\n        this.setInformation(`Branch moved in ${benchmarkDelta(startTime)} ms`);\n      });\n    }\n  }\n\n  createBranchAt(index) {\n    if (this.state.branches.length >= BRANCH_LIMIT) {\n      this.displayAlert(`You have reached the maximum number of branches allowed (${BRANCH_LIMIT})`,\n        \"OK\", () => { this.hideAlert() });\n      this.setInformation(\"Branch Limit Reached.\");\n      return;\n    }\n    const startTime = benchmarkTime();\n    const branchCopy = this.createDeepCopyOfBranchesFromState();\n    const newBranch = {\n      name: `Branch ${branchCopy.length + 1}`,\n      expanded: true,\n      splits: []\n    }\n    let newActiveBranch = this.state.activeBranch;\n    if (index >= branchCopy.length) {\n      branchCopy.push(newBranch);\n    } else {\n      branchCopy.splice(index, 0, newBranch);\n      if (newActiveBranch >= index) {\n        newActiveBranch++;\n      }\n    }\n    this.setState({\n      branches: branchCopy,\n      activeBranch: newActiveBranch,\n    }, () => {\n      this.setInformation(`Branch added in ${benchmarkDelta(startTime)} ms`);\n    });\n  }\n\n  deleteBranchAt(index) {\n    const startTime = benchmarkTime();\n    const branchCopy = this.createDeepCopyOfBranchesFromState();\n    let newActiveBranch = this.state.activeBranch;\n    let newActiveSplit = this.state.activeSplit;\n    branchCopy.splice(index, 1);\n    if (newActiveBranch === index) {\n      newActiveBranch = -1;\n      newActiveSplit = -1;\n    } else if (newActiveBranch > index) {\n      newActiveBranch--;\n    }\n    this.setState({\n      branches: branchCopy,\n      activeBranch: newActiveBranch,\n      activeSplit: newActiveSplit,\n    }, () => {\n      this.setInformation(`Branch deleted in ${benchmarkDelta(startTime)} ms`);\n    })\n  }\n\n  createSplitAt(branchIndex, index) {\n    if (this.state.branches[branchIndex].splits.length >= SPLIT_LIMIT) {\n      this.displayAlert(`You have reached the maximum number of splits allowed in one branch (${SPLIT_LIMIT})`,\n        \"OK\", () => { this.hideAlert() });\n      this.setInformation(\"Split Limit Reached.\");\n      return;\n    }\n    const startTime = benchmarkTime();\n    const branchCopy = this.createDeepCopyOfBranchesFromState();\n\n    const newSplit = {\n      name: `Unnamed Split`,\n      expanded: true,\n      actions: []\n    }\n    let newActiveSplit = this.state.activeSplit;\n    if (index >= branchCopy[branchIndex].splits.length) {\n      branchCopy[branchIndex].splits.push(newSplit);\n    } else {\n      branchCopy[branchIndex].splits.splice(index, 0, newSplit);\n      if (this.state.activeBranch == branchIndex && newActiveSplit >= index) {\n        newActiveSplit++;\n      }\n    }\n    this.setState({\n      branches: branchCopy,\n      activeSplit: newActiveSplit,\n    }, () => {\n      this.setInformation(`Split added in ${benchmarkDelta(startTime)} ms`);\n    });\n\n  }\n\n  setSplitPropertyAt(branchIndex, index, property, value) {\n    const branchCopy = this.createDeepCopyOfBranchesFromState();\n    branchCopy[branchIndex].splits[index][property] = value;\n    this.setState({\n      branches: branchCopy\n    })\n  }\n\n  deleteSplitAt(branchIndex, index) {\n    const startTime = benchmarkTime();\n    const branchCopy = this.createDeepCopyOfBranchesFromState();\n    let newActiveBranch = this.state.activeBranch;\n    let newActiveSplit = this.state.activeSplit;\n    branchCopy[branchIndex].splits.splice(index, 1);\n    if (newActiveBranch === branchIndex) {\n      if (newActiveSplit === index) {\n        newActiveBranch = -1;\n        newActiveSplit = -1;\n      } else if (newActiveSplit > index) {\n        newActiveSplit--;\n      }\n    }\n\n    this.setState({\n      branches: branchCopy,\n      activeBranch: newActiveBranch,\n      activeSplit: newActiveSplit,\n    }, () => {\n      this.setInformation(`Split deleted in ${benchmarkDelta(startTime)} ms`);\n    })\n  }\n\n  displayAlert(text, okText, onOk, cancelText, onCancel) {\n    this.setState({\n      displayAlert: true,\n      onAlertOk: onOk,\n      onAlertCancel: onCancel,\n      alertOkText: okText,\n      alertCancelText: cancelText,\n      alertText: text,\n    });\n  }\n\n  hideAlert() {\n    this.setState({\n      displayAlert: false,\n      onAlertOk: undefined,\n      onAlertCancel: undefined,\n      alertOkText: undefined,\n      alertCancelText: undefined\n    })\n  }\n\n  downloadStateToFile() {\n    downloadToFile(this.getStateToStore());\n  }\n  render() {\n    if (!this.state.dimensions) {\n      return null;\n    }\n\n    const actions = {\n      setSideCollapsed: this.setSideCollapsed.bind(this),\n      setResourcesCollapsed: this.setResourcesCollapsed.bind(this),\n      setInformation: this.setInformation.bind(this),\n      setBranchExpandedAt: (i, value) => this.setBranchPropertyAt(i, \"expanded\", value),\n      setBranchNameAt: (i, value) => this.setBranchPropertyAt(i, \"name\", value),\n      createBranchAt: this.createBranchAt.bind(this),\n      setAutoSave: this.setAutoSave.bind(this),\n      deleteBranchAt: this.deleteBranchAt.bind(this),\n      displayAlert: this.displayAlert.bind(this),\n      hideAlert: this.hideAlert.bind(this),\n      swapBranchesAt: this.swapBranchesAt.bind(this),\n      saveStateToLocalStorage: this.saveStateToLocalStorage.bind(this),\n      createSplitAt: this.createSplitAt.bind(this),\n      setSplitExpandedAt: (b, i, value) => this.setSplitPropertyAt(b, i, \"expanded\", value),\n      setSplitNameAt: (b, i, value) => this.setSplitPropertyAt(b, i, \"name\", value),\n      deleteSplitAt: this.deleteSplitAt.bind(this),\n      download: this.downloadStateToFile.bind(this),\n      setProjectName: this.setProjectName.bind(this),\n      loadStoredState: this.loadStoredState.bind(this),\n    }\n    return (\n\n      <div style={{\n        width: \"100vw\",\n        height: \"100vh\"\n      }}>\n        <Box layout={this.state.dimensions.header} borderClass=\"border\">\n          <Header autoSave={this.state.autoSave} projectName={this.state.projectName} actions={actions} />\n        </Box>\n        <Box layout={this.state.dimensions.side} borderClass=\"border\">\n          <SideNav layout={this.state.dimensions.side} sideCollapsed={this.state.sideCollapsed} actions={actions} branches={this.state.branches} />\n        </Box>\n        <Box layout={this.state.dimensions.footer} borderClass=\"border\">\n          <Footer text={this.state.info} />\n        </Box>\n        <Box layout={this.state.dimensions.map} borderClass=\"border\">\n          <iframe src=\"https://objmap.zeldamods.org/#/map/z3,0,4\" title=\"Object Map\" width=\"100%\" height=\"100%\"></iframe>\n        </Box>\n        <Box layout={this.state.dimensions.actions} borderClass=\"border\">\n          <Actions resourcesCollapsed={this.state.resourcesCollapsed} setResourcesCollapsed={(c) => this.setResourcesCollapsed(c)} />\n        </Box>\n        <Box layout={this.state.dimensions.resources} borderClass=\"border\">\n          [WIP]\n        </Box>\n\n        <Alert\n          enabled={this.state.displayAlert}\n          text={this.state.alertText}\n          okText={this.state.alertOkText}\n          cancelText={this.state.alertCancelText}\n          onOk={this.state.onAlertOk}\n          onCancel={this.state.onAlertCancel}\n        />\n\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}