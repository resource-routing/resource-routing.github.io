(this["webpackJsonpresouce-routing"]=this["webpackJsonpresouce-routing"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(3),s=n.n(a),i=n(9),c=n.n(i),r=(n(15),n(2)),o=n(1),l=n(4),d=n(5),u=n(7),h=n(6),b=(n(16),n(10)),p=n(0);function j(t){var e=t.layout,n=t.children,a=t.borderClass;return Object(p.jsx)("div",{className:Object(b.a)("component",a),style:{position:"absolute",top:e.y,left:e.x,width:e.w,height:e.h},children:n})}function v(t){var e=t.expanded,n=t.setExpanded;return Object(p.jsx)("button",{className:"icon-button",onClick:function(){return n(!e)},children:e?"-":"+"})}function f(t){var e=t.actions,n=t.b,a=t.s;return e.map((function(t,e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"icon-button-width",children:">"}),Object(p.jsx)("td",{children:t.deltaString?t.name:Object(p.jsx)("em",{children:t.name})})]},"b_".concat(n,"_s_").concat(a,"_a_").concat(e,"_"))}))}n(18);function m(t){var e=[];for(var n in t)e.push(x(n,t[n]));return e.join(", ")}function x(t,e){var n,a=e.type,s=e.value;switch(a){case"add":n=s>=0?"+":"-";break;case"set":case"ref_set":case"ref_add":n="=";break;case"ref_sub":n="-";break;default:n="?"}var i=s;return a.startsWith("ref")&&(i="[".concat(s,"]")),"[".concat(t,"]").concat(n).concat(i)}function O(t){if(!t||!t.length)return[null,"Delta string empty"];if(!t.trim())return[null,"Delta string empty"];var e=t.split(",").map((function(t){return t.trim()})),n={},a=[];return e.forEach((function(t){var e=function(t){if(!t||!t.length)return[null,null];if(!t.startsWith("["))return[null,"Invalid: ".concat(t)];var e=t.indexOf("]");if(e<0)return[null,"Item name bracket not closed: ".concat(t)];var n=t.substring(1,e);if(t.length<=e+1)return[null,"Item [".concat(n,"] missing operator and quantity")];var a=t[e+1],s=t.substring(e+2);if(s.startsWith("[")){if(!s.endsWith("]"))return[null,"Item reference bracket not closed: ".concat(s)];var i,c=s.substring(1,s.length-1);switch(a){case"+":i="ref_add";break;case"-":i="ref_sub";break;case"=":i="ref_set";break;default:return[null,"Item [".concat(n,']: unknown operator "').concat(a,'"')]}return[{name:n,type:i,value:c},null]}var r,o=Number(s);if(!Number.isInteger(o))return[null,"Item [".concat(n,']: invalid quantity "').concat(s)];switch(a){case"+":r="add";break;case"-":r="add",o=-o;break;case"=":r="set";break;default:return[null,"Item [".concat(n,']: unknown operator "').concat(a,'"')]}return[{name:n,type:r,value:o},null]}(t.trim()),s=Object(r.a)(e,2),i=s[0],c=s[1];null!==i?n[i.name]={type:i.type,value:i.value}:null!==c&&a.push(c)})),a.length>0?[null,a.join("; ")]:[n,null]}var S="RRT_STATE_v1";function g(){var t=localStorage.getItem(S);return C(t?JSON.parse(t):"")}function C(t){return(e=w(t)).branches.forEach((function(t){return t.splits.forEach((function(t){return t.actions.forEach((function(t){if(t.deltaString){var e=O(t.deltaString),n=Object(r.a)(e,2),a=n[0],s=n[1];s?(t.deltaError=s,t.deltas={}):(t.deltaError=void 0,t.deltas=a)}else t.deltaError=void 0,t.deltas={}}))}))})),e;var e}function w(t){if(!t)return{projectName:"Untitled Project",activeSplit:-1,activeBranch:-1,activeAction:-1,branches:[],items:[]};var e,n,a=N(t.activeBranch,t.branches);return n=-1===(e=-1===a?-1:N(t.activeSplit,t.branches[a].splits))?-1:N(t.activeAction,t.branches[a].splits[e].actions.length),{projectName:t.projectName||"Untitled Project",activeBranch:a,activeSplit:e,activeAction:n,branches:y(t.branches).map(k),items:y(t.items).map(A)}}function y(t){return t||[]}function N(t,e){return(0===t||t)&&e&&e.length?t<0||t>=e.length?-1:t:-1}function k(t){var e={name:"",expanded:!1,splits:[]};if(!t)return Object(o.a)({},e);var n=Object(o.a)({},e);return t.name&&(n.name=t.name),t.expanded&&(n.expanded=!0),t.splits&&(n.splits=t.splits.map(B)),n}function B(t){var e={name:"",expanded:!1,actions:[]};if(!t)return Object(o.a)({},e);var n=Object(o.a)({},e);return t.name&&(n.name=t.name),t.expanded&&(n.expanded=!0),t.actions&&(n.actions=t.actions.map(T)),n}function T(t){var e={name:"",expanded:!1,deltaString:"",deltaError:void 0,deltas:{}};if(!t)return Object(o.a)({},e);var n=Object(o.a)({},e);return t.name&&(n.name=t.name),t.deltaString&&(n.deltaString=t.deltaString),t.expanded&&(n.expanded=!0),t.deltaError&&(n.deltaError=t.deltaError),t.deltas&&(n.deltas=function(t){var e=["add","set","ref_add","ref_set","ref_sub"],n={};for(var a in t){var s=t[a].type;s&&e.includes(s)&&("add"===s||"set"===s?Number.isInteger(t[a].value)&&(n[a]={type:s,value:t[a].value}):n[a]={type:s,value:t[a].value.toString()})}return n}(t.deltas)),n}function A(t){var e={name:"",color:""};if(!t)return Object(o.a)({},e);var n=Object(o.a)({},e);return t.name&&(n.name=t.name),t.color&&(n.color=t.color),n}function E(t){return t=w(t),Object(o.a)(Object(o.a)({},t),{},{branches:t.branches.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{splits:t.splits.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{actions:t.actions.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{deltas:{}})}))})}))})}))})}function I(t){return function(e){var n=e.branches,a=e.activeBranch,s=P(n),i=k();t>=s.length?s.push(i):s.splice(t,0,i);var c=a;return a>=t&&c++,{branches:s,activeBranch:c}}}function _(t,e){return function(n){var a,s=n.branches,i=n.activeBranch,c=P(s),r=c[t];return c[t]=c[e],c[e]=r,i===t?a=e:i===e&&(a=t),{branches:c,activeBranch:a}}}function R(t,e,n){return function(a){var s=P(a.branches);return s[t][e]=n,{branches:s}}}function L(t,e,n){return function(a){var s=a.branches,i=a.activeBranch,c=a.activeSplit,r=P(s),o=B(n);e>=r[t].splits.length?r[t].splits.push(o):r[t].splits.splice(e,0,o);var l=c;return i===t&&c>=e&&l++,{branches:r,activeSplit:l}}}function U(t,e,n){return function(a){var s=a.branches,i=a.activeBranch,c=a.activeSplit,r=P(s),o=r[t].splits[e];r[t].splits[e]=r[t].splits[n],r[t].splits[n]=o;var l=c;return i===t&&(c===e?l=n:c===n&&(l=e)),{branches:r,activeSplit:l}}}function H(t,e,n,a){return function(s){var i=P(s.branches);return i[t].splits[e][n]=a,{branches:i}}}function D(t,e,n,a,s){return function(i){var c=i.branches;if("deltas"===a)return{};var o=P(c);return o[t].splits[e].actions[n][a]=s,"deltaString"===a&&function(t){var e=O(t.deltaString),n=Object(r.a)(e,2),a=n[0],s=n[1];a?(t.deltas=a,t.deltaError=void 0):(t.deltas={},t.deltaError=s)}(o[t].splits[e].actions[n]),{branches:o}}}function F(t,e,n,a){return a<=0&&n<=0&&e<=0?[-1,-1,-1,!1]:(a<=0?n<=0?(i=t[c=e-1].splits.length-1,s=t[c].splits[i].actions.length-1):(i=n-1,s=t[c=e].splits[i].actions.length-1):(c=e,i=n,s=a-1),[c,i,s,!0]);var s,i,c}function M(t){return function(e){var n=z(e.items),a=A();return t>=n.length?n.push(a):n.splice(t,0,a),{items:n}}}function W(t,e,n){return function(a){var s=a.branches,i=z(a.items),c=i[t][e];if(i[t][e]=n,"name"===e){var o=P(s);return function(t,e,n){t.forEach((function(t){return t.splits.forEach((function(t){return t.actions.forEach((function(t){var a=O(t.deltaString),s=Object(r.a)(a,2),i=s[0];s[1]||(!function(t,e,n){for(var a in e in t&&(t[n]=t[e],delete t.oldName),t)t[a].type.startsWith("ref")&&t[a].value===e&&(t[a].value=n)}(i,e,n),t.deltaString=m(i))}))}))}))}(o,n,c),{items:i,branches:o}}return{items:i}}}function P(t){return t.map(k)}function J(t){return{content:function(t){return t.map((function(t){return t.map((function(t){return t.map((function(t){return Object(o.a)({},t)}))}))}))}(t.content),error:t.error?Object(o.a)({},t.error):void 0}}function z(t){return t.map(A)}function X(t,e,n){var a=Object(o.a)({},t);for(var s in n){if(!(s in e))return[null,'Item "'.concat(s,'" is undefined. Add "*" at the beginning of the item to define it')];if(s in t||(t[s]=0),n[s].type.startsWith("ref")){if(!(n[s].value in e))return[null,'Item "'.concat(s,'" refers to undefined item "').concat(n[s].value,'"')];n[s].value in t||(t[n[s].value]=0)}switch(n[s].type){case"add":a[s]=t[s]+n[s].value;break;case"set":a[s]=n[s].value;break;case"ref_add":a[s]=t[s]+t[n[s].value];break;case"ref_sub":a[s]=t[s]-t[n[s].value];break;case"ref_set":a[s]=t[n[s].value];break;default:return[null,'Invalid delta type in item "'.concat(s,'"')]}}return[a,null]}function q(t){var e=t.name,n=t.branchIndex,a=t.index,s=t.expanded,i=t.isLast,c=t.isLastBranch,r=t.isFirstBranch,o=t.editing,l=t.splitActions,d=t.actions,u=t.setEditing,h=e||"[Unnamed Split]",b=Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"icon-button-width",children:o&&Object(p.jsx)("button",{className:"icon-button",title:"Break branch",onClick:function(){var t,e;d.doToBranches((t=n,e=a,function(n){var a=n.branches,s=n.activeBranch,i=n.activeSplit,c=P(a),r=c[t].splits.slice(e);c[t].splits=c[t].splits.slice(0,e);var o=k();o.expanded=!0,o.splits=r,c.splice(t+1,0,o);var l=s,d=i;return s===t&&i>=e&&(l++,d-=e),{branches:c,activeBranch:l,activeSplit:d}}),"Branch broken - bang!")},children:"/"})}),Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)(v,{expanded:s,setExpanded:function(t){d.doToBranches(H(n,a,"expanded",t),"Split ".concat(t?"expanded":"collapsed","."))}})}),Object(p.jsx)("td",{colSpan:"2",children:o?Object(p.jsx)("input",{className:"full-width",placeholder:"Split Name",type:"text",value:e,onChange:function(t){d.doToBranches(H(n,a,"name",t.target.value))}}):Object(p.jsx)("u",{className:"split-link",onClick:function(){d.openSplit(n,a)},children:h})}),o&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Copy",onClick:function(){d.copySplit({name:e,expanded:s,actions:l})},children:"c"})}),o&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",disabled:0===a&&r,title:"Move up",onClick:function(){0===a?d.doToBranches(function(t){return function(e){var n=e.branches,a=e.activeBranch,s=e.activeSplit,i=P(n);i[t-1].splits.push(i[t].splits[0]),i[t].splits.splice(0,1);var c=a,r=s;return a===t&&0===s&&(c--,r=i[t-1].splits.length-1),{branches:i,activeBranch:c,activeSplit:r}}}(n),"Split moved to the previous branch."):d.doToBranches(U(n,a,a-1),"Split moved.",n,a-1)},children:"\u2191"})}),o&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Move down",disabled:i&&c,onClick:function(){i?d.doToBranches(function(t){return function(e){var n=e.branches,a=e.activeBranch,s=e.activeSplit,i=P(n),c=i[t].splits.length-1;i[t+1].splits.splice(0,0,i[t].splits[c]),i[t].splits.splice(c,1);var r=a,o=s;return a===t&&s===c&&(r++,o=0),{branches:i,activeBranch:r,activeSplit:o}}}(n),"Split moved to the next branch."):d.doToBranches(U(n,a,a+1),"Split moved.",n,a)},children:"\u2193"})}),o&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Delete",onClick:function(){d.displayAlert('Delete split "'.concat(e,'"? This will also delete all actions in the split. (Not reversible)'),"Delete",(function(){d.hideAlert(),d.doToBranches(function(t,e){return function(n){var a=n.branches,s=n.activeBranch,i=n.activeSplit,c=P(a);c[t].splits.splice(e,1);var r=i;return s===t&&(i===e?r=-1:i>e&&r--),{branches:c,activeSplit:r}}}(n,a),"Split deleted.",n,a)}),"Cancel",(function(){d.hideAlert()}))},children:"X"})}),o&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"New Split Below",onClick:function(){d.doToBranches(L(n,a+1),"Split created.",n,a+1),u(!0)},children:"*"})}),o&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Paste Split Below",disabled:void 0===d.splitClipboard,onClick:function(){d.doToBranches(L(n,a+1,d.splitClipboard),"Split pasted.",n,a+1)},children:"p"})})]},"b_".concat(n,"_s_").concat(a,"_split"));return s?[b].concat(Object(p.jsx)(f,{actions:l,b:n,s:a})):b}function G(t){var e=t.branchIndex,n=t.splits,a=t.isLastBranch,s=t.isFirstBranch,i=t.editing,c=t.actions,r=t.setEditing,o=n.map((function(t,o){return Object(p.jsx)(q,{name:t.name,branchIndex:e,index:o,expanded:t.expanded,isLast:o===n.length-1,isLastBranch:a,isFirstBranch:s,editing:i,actions:c,splitActions:t.actions,setEditing:r},"branch_".concat(e,"_split_").concat(o,"_"))}));return o.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"icon-button-width",children:i&&Object(p.jsx)("button",{className:"icon-button",title:"Merge branch",disabled:a,onClick:function(){var t;c.doToBranches((t=e,function(e){var n=e.branches,a=e.activeBranch,s=e.activeSplit,i=P(n),c=i[t].splits.length;i[t].splits=i[t].splits.concat(i[t+1].splits),i.splice(t+1,1);var r=a,o=s;return a===t+1&&(r--,o+=c),{branches:i,activeBranch:r,activeSplit:o}}),"Branch merged - moosh!")},children:"^"})}),Object(p.jsxs)("td",{colSpan:"4",children:[Object(p.jsx)("button",{onClick:function(){var t=n.length;c.doToBranches(L(e,t),"Split created.",e,t),r(!0)},children:"New Split"}),Object(p.jsx)("button",{className:"space-left-small",disabled:void 0===c.splitClipboard,onClick:function(){var t=n.length;c.doToBranches(L(e,t,c.splitClipboard),"Split pasted.",e,t)},children:"Paste Split"})]})]},"branch_".concat(e,"_split_actions"))),o}function K(t){var e=t.name,n=t.index,a=t.expanded,s=t.editing,i=t.actions,c=t.isLast,r=t.splits,o=t.setEditing,l=e||"[Unnamed Branch]",d=Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)(v,{expanded:a,setExpanded:function(t){i.doToBranches(R(n,"expanded",t),"Branch ".concat(t?"expanded":"collapsed","."))}})}),Object(p.jsx)("td",{colSpan:"6",children:s?Object(p.jsx)("input",{className:"full-width",placeholder:"Branch Name",type:"text",value:e,onChange:function(t){i.doToBranches(R(n,"name",t.target.value))}}):Object(p.jsx)("strong",{children:l})}),s&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",disabled:0===n,title:"Move up",onClick:function(){i.doToBranches(_(n,n-1),"Branch moved.",n-1)},children:"\u2191"})}),s&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Move down",disabled:c,onClick:function(){i.doToBranches(_(n,n+1),"Branch moved.",n)},children:"\u2193"})}),s&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Delete",onClick:function(){i.displayAlert('Delete branch "'.concat(e,'"? This will also delete all the splits in the branch. (Not reversible)'),"Delete",(function(){i.hideAlert(),i.doToBranches(function(t){return function(e){var n=e.branches,a=e.activeBranch,s=P(n);s.splice(t,1);var i=a;return a===t?i=-1:a>t&&i--,{branches:s,activeBranch:i}}}(n),"Branch deleted.",n)}),"Cancel",(function(){i.hideAlert()}))},children:"X"})}),s&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"New Branch Below",onClick:function(){i.doToBranches(I(n+1),"Branch created.",n+1),o(!0)},children:"*"})})]},"branch_content_"+n);return a?[d].concat(Object(p.jsx)(G,{branchIndex:n,splits:r,isLastBranch:c,isFirstBranch:0===n,editing:s,actions:i,setEditing:o},"branch_split_list_".concat(n))):d}function Q(t){var e=t.branches,n=t.editing,a=t.setEditing,s=t.actions;return e?Object(p.jsx)("table",{children:Object(p.jsxs)("tbody",{children:[e.map((function(t,i){return Object(p.jsx)(K,{name:t.name,index:i,expanded:t.expanded,editing:n,actions:s,isLast:i===e.length-1,splits:t.splits,setEditing:a},i)})),Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"5",children:Object(p.jsx)("button",{onClick:function(){var t=e.length;s.doToBranches(I(t),"Branch created.",t),a(!0)},children:"New Branch"})})},"new_branch_button")]})}):null}var V=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={editing:!1},a}return Object(d.a)(n,[{key:"setEditEnabled",value:function(t){this.setState({editing:t})}},{key:"render",value:function(){var t=this,e=Object(p.jsxs)("span",{children:[Object(p.jsx)("button",{className:"space-left-small",onClick:function(){return t.setEditEnabled(!t.state.editing)},children:this.state.editing?"Finish":"Edit"}),Object(p.jsx)("button",{className:"space-left-small",onClick:function(){return t.props.actions.doToBranches((function(t){var e=P(t.branches);return e.forEach((function(t){t.expanded=!1,t.splits.forEach((function(t){t.expanded=!1,t.actions.forEach((function(t){t.expanded=!1}))}))})),{branches:e,activeAction:-1,activeBranch:-1,activeSplit:-1}}),"Collapsed all.")},children:"Collapse All"})]}),n=Object(p.jsx)(Q,{branches:this.props.branches,editing:this.state.editing,actions:this.props.actions,setEditing:this.setEditEnabled.bind(this)});return Object(p.jsxs)("div",{children:[Object(p.jsx)(j,{layout:this.props.layout.main,borderClass:"overflow-auto",children:Object(p.jsx)("div",{children:!this.props.sideCollapsed&&n})}),Object(p.jsxs)(j,{layout:this.props.layout.header,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{expanded:!this.props.sideCollapsed,setExpanded:function(e){t.props.actions.setSideCollapsed(!e)}}),!this.props.sideCollapsed&&e]}),Object(p.jsx)("hr",{})]})]})}}]),n}(s.a.Component);function Y(){return(new Date).getTime()}function Z(t){return(new Date).getTime()-t}function $(t){var e=t.autoSave,n=t.projectName,s=t.headerCollapsed,i=t.sideCollapsed,c=t.actions,o=Object(a.useState)(void 0),l=Object(r.a)(o,2),d=l[0],u=l[1],h=Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.download()},children:"Export"}),b=Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.saveStateToLocalStorage()},children:"Save"}),j=Object(p.jsxs)("span",{children:[Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){c.setProjectName(prompt("Enter Project Name",n))},children:"Edit Project Name"}),Object(p.jsx)("input",{className:"vertical-center space-left-small",type:"file",onChange:function(t){console.log(t),u(t.target.files)}}),Object(p.jsx)("button",{className:"vertical-center space-left-small",disabled:!d,onClick:function(){if(d&&d[0]){var t=Y();!function(t,e){if(t){var n=new FileReader;n.onloadend=function(){var t=n.result;e(C(t?JSON.parse(t):""))},n.readAsText(t)}}(d[0],(function(e){c.loadStoredState((function(){return e}),t)}))}},children:"Import"}),h,b,Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.setAutoSave(!e)},children:e?"Auto Save: Enabled":"Auto Save: Disabled"}),Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.setAutoSave(!e)},disabled:!0,children:e?"Map: Enabled":"Map: Disabled"}),Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.saveStateToLocalStorage()},disabled:!0,children:"Force Update Resources"}),Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.saveStateToLocalStorage()},disabled:!0,children:"Help"}),Object(p.jsx)("button",{className:"vertical-center space-left-small",onClick:function(){return c.saveStateToLocalStorage()},disabled:!0,children:"Reset"})]}),f=Object(p.jsxs)("span",{children:[!s&&j,s&&h,s&&b]});return Object(p.jsxs)("div",{className:"overflow-hidden",children:[!(i&&s)&&Object(p.jsx)("h3",{className:"overflow-hidden",children:n}),Object(p.jsx)(v,{expanded:!s,setExpanded:function(t){return c.setHeaderCollapsed(!t)}}),!(i&&s)&&f]})}function tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"calc(".concat(e.join(" "),")")}function et(t,e){return"min(".concat(t,", ").concat(e,")")}function nt(t,e){return"max(".concat(t,", ").concat(e,")")}function at(t,e,n){var a="100vw",s="100vh",i="3.5rem",c="2rem",r="2rem",o="24rem",l="3.2rem",d=window.innerWidth<1550,u=window.innerWidth<700;window.innerWidth<1e3&&(n=!0);var h=tt(s,"-",i,"-",c),b=t?"2rem":nt("16rem",et("24rem","30%")),p=tt(a,"-",b),j=e?"1.8rem":nt("12rem","20%"),v=tt(h,"-",j),f=d?tt(a,"-",o):et(p,nt("50rem",tt("60%","-",b))),m=tt(s,"-",c,"-",j);return{header:{x:0,y:0,w:n?b:a,h:i},side:{x:0,y:i,w:b,h:d?v:h,header:{x:0,y:0,w:"100%",h:r},main:{x:0,y:r,w:"100%",h:tt("100%","-",r)}},footer:{x:0,y:tt(s,"-",c),w:a,h:c},resources:{x:d?f:tt(b,"+",f),y:m,w:d?o:tt(p,"-",f),h:j,hide:u,header:{x:0,y:0,w:"100%",h:l},main:{x:0,y:l,w:"100%",h:tt("100%","-",l)}},actions:{x:d?0:b,y:m,w:u?a:f,h:j,header:{x:0,y:0,w:"100%",h:r},main:{x:0,y:r,w:"100%",h:tt("100%","-",r)}},map:{x:b,y:n?0:i,w:p,h:n?tt(s,"-",c,"-",j):v}}}function st(t){var e=t.text;return Object(p.jsx)("span",{className:"vertical-center",children:e})}function it(t){var e,n=t.name,a=t.type,s=t.value,i=(t.create,function(t){if(!t)return["","auto"];var e=t.indexOf("#");if(e>=0){var n=t.substring(e+1);return[t.substring(0,e),n]}return[t,"auto"]}(n)),c=Object(r.a)(i,2),o=c[0],l=c[1];switch(a){case"add":e=s>=0?"+":"-";break;case"set":case"ref_set":case"ref_add":e="=";break;case"ref_sub":e="-";break;default:e="?"}return a.startsWith("ref")&&(s="[".concat(s,"]")),Object(p.jsxs)("span",{style:{backgroundColor:l},children:["[",o,"]",e,s]})}function ct(t){var e=t.deltas,n=t.deltaError,a=[];for(var s in e)a.push(Object(p.jsx)(it,Object(o.a)({name:s},e[s]),s));return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"icon-button-width align-right",children:"\u0394"}),Object(p.jsx)("td",{colSpan:"6",children:void 0!==n?Object(p.jsx)("span",{className:"deltastr-error",children:n}):a})]},"delta")}function rt(t){var e=t.name,n=t.branchIndex,a=t.splitIndex,s=t.index,i=t.expanded,c=t.editing,r=t.actions,o=t.isLast,l=t.deltaString,d=t.deltaError,u=t.deltas,h=e||"[Unnamed Action]",b=Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"icon-button-width",children:l&&Object(p.jsx)(v,{expanded:i,setExpanded:function(t){r.doToBranches(D(n,a,s,"expanded",t),"Action ".concat(t?"expanded":"collapsed","."))}})}),c&&Object(p.jsx)("td",{className:"action-name-width",children:Object(p.jsx)("input",{className:"action-name-width",placeholder:"Action Title/Notes",type:"text",value:e,onChange:function(t){r.doToBranches(D(n,a,s,"name",t.target.value))}})}),!c&&Object(p.jsx)("td",{colSpan:"6",children:Object(p.jsx)("span",{children:l?Object(p.jsx)("strong",{children:h}):Object(p.jsx)("em",{children:h})})}),c&&Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"full-width",placeholder:"Delta String",type:"text",value:l,onChange:function(t){r.doToBranches(D(n,a,s,"deltaString",t.target.value),"Delta string changed.",n,a)}})}),c&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",disabled:0===s,title:"Move up",onClick:function(){},children:"\u2191"})}),c&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Move down",disabled:o,onClick:function(){},children:"\u2193"})}),c&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Delete",onClick:function(){},disabled:!0,children:"X"})}),c&&Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"New Branch Below",onClick:function(){},disabled:!0,children:"*"})})]},"action_"+s);return i&&l?[b,Object(p.jsx)(ct,{deltaError:d,deltas:u},"action_"+s+"_delta")]:b}function ot(t){var e=t.actionList,n=t.editing,a=t.actions,s=t.branchIndex,i=t.splitIndex,c=t.resourceError;return Object(p.jsx)("table",{children:Object(p.jsxs)("tbody",{children:[e.map((function(t,r){var o=void 0;return a.deltaError?o=a.deltaError:c&&c.branch===s&&c.split===i&&c.action===r&&(o=c.message),Object(p.jsx)(rt,{name:t.name,index:r,branchIndex:s,splitIndex:i,expanded:t.expanded,editing:n,actions:a,isLast:r===e.length-1,deltaString:t.deltaString,deltaError:o,deltas:t.deltas},r)})),Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"3",children:Object(p.jsx)("button",{onClick:function(){var t,n,c;a.doToBranches((t=s,n=i,c=e.length,function(e){var a=e.branches,s=e.activeBranch,i=e.activeSplit,r=e.activeAction,o=P(a),l=T();c>=o[t].splits[n].actions.length?o[t].splits[n].actions.push(l):o[t].splits[n].actions.splice(c,0,l);var d=r;return s===t&&i===n&&r>c&&d++,{branches:o,activeAction:d}}),"Action created.",s,i)},children:"Add Action/Notes"})})},"new_action_button")]})})}function lt(t){var e=t.layout,n=t.resourcesCollapsed,s=t.actionList,i=t.actions,c=t.splitName,o=t.splitIndex,l=t.branchIndex,d=Object(a.useState)(!1),u=Object(r.a)(d,2),h=u[0],b=u[1],f=Object(p.jsxs)("span",{children:[Object(p.jsx)("button",{className:"space-left-small",onClick:function(){return b(!h)},children:h?"Finish":"Edit"}),Object(p.jsx)("button",{className:"space-left-small",disabled:!0,children:"Previous"}),Object(p.jsx)("button",{className:"space-left-small",disabled:!0,children:"Next"})]}),m=s?Object(p.jsx)(ot,{actionList:s,editing:h,actions:i,splitIndex:o,branchIndex:l}):"Click on a split to view details.";return Object(p.jsxs)("div",{children:[Object(p.jsx)(j,{layout:e.main,borderClass:"overflow-auto",children:Object(p.jsx)("div",{children:!n&&m})}),Object(p.jsx)(j,{layout:e.header,children:Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{expanded:!n,setExpanded:function(t){return i.setResourcesCollapsed(!t)}}),Object(p.jsxs)("strong",{children:[" Split Detail ",s&&" - "+c]}),!n&&f,!n&&Object(p.jsx)("hr",{})]})})]})}function dt(t){var e=t.enabled,n=t.text,a=t.okText,s=t.cancelText,i=t.onOk,c=t.onCancel;if(!e)return null;var r="12rem";return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,0.6)",position:"absolute",top:0,left:0,width:"100vw",height:"100vh"}}),Object(p.jsx)(j,{layout:{x:tt(tt("100vw","-","50%"),"/",2),y:tt(tt("100vh","-",r),"/",2),w:"50%",h:r},children:Object(p.jsxs)("div",{style:{backgroundColor:"white",height:"100%",boxSizing:"border-box",padding:"1rem"},children:[n,Object(p.jsxs)("div",{style:{position:"absolute",bottom:"1rem",right:"1rem"},children:[Object(p.jsx)("button",{onClick:function(){return i()},children:a}),void 0!==c&&Object(p.jsx)("button",{className:"margin-small",onClick:function(){return c()},children:s})]})]})})]})}function ut(t){var e=function(t){if((t=t.toLowerCase()).startsWith("rgb(")&&t.endsWith(")")){return t.replace("rgb(","").replace(")","").split(",").map((function(t){return Number(t.trim())})).map((function(t){return Number.isNaN(t)?0:t}))}if(!window.getComputedStyle)return[255,255,255];var e=document.getElementById("temp");e.style.color=t;var n=window.getComputedStyle(e).color.replace("rgb(","").replace(")","").split(",").map((function(t){return Number(t.trim())}));if(0===n[0]&&0===n[1]&&0===n[2]&&"black"!==t)return[255,255,255];return n}(t).map(ht),n=Object(r.a)(e,3);return.2126*n[0]+.7152*n[1]+.0722*n[2]<.22}function ht(t){return(t/=255)<=.03928?t/=12.92:t=(t+.055)/1.055^2.4,t}function bt(t){var e=t.name,n=t.color,a=t.delta,s=e||"[Unnamed Item]";return Object(p.jsxs)("td",{style:{backgroundColor:n,color:ut(n)?"white":""},children:[Object(p.jsx)("span",{className:"item-span",children:s}),Object(p.jsx)("span",{className:"item-span",children:a&&jt(a,e)||""})]})}function pt(t){var e=t.name,n=t.color,a=t.index,s=(t.isLast,t.actions),i=t.setEditing;return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{className:"icon-button-width",children:[a+1,"."]}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"full-width",placeholder:"Item Name",type:"text",value:e,onChange:function(t){s.doToItems(W(a,"name",t.target.value))}})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"full-width",placeholder:"Color (e.g, red, #FF0000, rgb(255, 0, 0)",type:"text",value:n,onChange:function(t){s.doToItems(W(a,"color",t.target.value))}})}),Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",disabled:!0,title:"Move up",onClick:function(){},children:"\u2191"})}),Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Move down",disabled:!0,onClick:function(){},children:"\u2193"})}),Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"Delete",onClick:function(){s.displayAlert('Delete branch "'.concat(e,'"? This will also delete all the splits in the branch. (Not reversible)'),"Delete",(function(){s.hideAlert()}),"Cancel",(function(){s.hideAlert()}))},disabled:!0,children:"X"})}),Object(p.jsx)("td",{className:"icon-button-width",children:Object(p.jsx)("button",{className:"icon-button",title:"New Branch Below",onClick:function(){s.doToItems(M(a+1),"Item created."),i(!0)},disabled:!0,children:"*"})})]},"item_"+a)}function jt(t,e){var n=t[e],a=n.value,s=n.change;return"".concat(a," (").concat(s>=0?"+":"").concat(s,")")}function vt(t){var e=t.items,n=t.delta,a=t.editing,s=t.actions,i=t.setEditing,c=t.filter,r=[];c&&c.split(",").forEach((function(t){var e=t.trim();r.push(e)}));var o,l=c?e.filter((function(t){if(!t.name)return!0;for(var e=0;e<r.length;e++)if(t.name.includes(r[e]))return!0;return!1})):e;if(a)o=l.map((function(t,n){return Object(p.jsx)(pt,{name:t.name,color:t.color,index:n,actions:s,setEditing:i,isLast:n===e.length-1},n)}));else{o=[];for(var d=0;d<l.length;d+=4)o.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)(bt,{name:l[d].name,color:l[d].color,delta:n}),l[d+1]&&Object(p.jsx)(bt,{name:l[d+1].name,color:l[d+1].color,delta:n}),l[d+2]&&Object(p.jsx)(bt,{name:l[d+2].name,color:l[d+2].color,delta:n}),l[d+3]&&Object(p.jsx)(bt,{name:l[d+3].name,color:l[d+3].color,delta:n})]},d))}return Object(p.jsxs)("table",{children:[Object(p.jsx)("tbody",{children:o}),Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"5",children:Object(p.jsx)("button",{onClick:function(){var t=e.length;s.doToItems(M(t),"Item created."),i(!0)},children:"New Item"})})},"new_item_button")]})}function ft(t){var e=t.layout,n=t.resourcesCollapsed,s=(t.resourceInfo,t.items),i=t.actions,c=t.actionResources,o=t.lastActionResources,l=Object(a.useState)(!1),d=Object(r.a)(l,2),u=d[0],h=d[1],b=Object(a.useState)(""),v=Object(r.a)(b,2),f=v[0],m=v[1],x=n,O=Object(p.jsxs)("span",{children:[Object(p.jsx)("button",{className:"space-left-small",onClick:function(){return h(!u)},children:u?"Finish":"Edit"}),Object(p.jsx)("input",{className:"space-left-small",type:"text",value:f,placeholder:"Filter (use , to separate)",onChange:function(t){return m(t.target.value)}}),Object(p.jsx)("button",{className:"space-left-small icon-button",title:"Clear",onClick:function(){return m("")},children:"X"})]}),S=void 0;if(c&&o){for(var g in S={},c)S[g]={value:c[g],change:c[g]-(g in o?o[g]:0)};s=s.filter((function(t){return t.name in c}))}var C=Object(p.jsx)(vt,{items:s,editing:u,actions:i,setEditing:h,filter:f,delta:S});return Object(p.jsxs)("div",{children:[Object(p.jsx)(j,{layout:e.main,borderClass:"overflow-auto",children:Object(p.jsx)("div",{children:!x&&C})}),Object(p.jsxs)(j,{layout:e.header,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Resources"}),!x&&O]}),!x&&Object(p.jsx)("div",{children:"resourceInfo"}),!n&&Object(p.jsx)("hr",{})]})]})}var mt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={info:"Loading...",projectName:"Untitled Project",sideCollapsed:!1,resourcesCollapsed:!1,headerCollapsed:!1,dimensions:void 0,branches:[],items:[],resources:{content:[],error:void 0},activeBranch:-1,activeSplit:-1,activeAction:-1,dirtyBranch:-1,dirtySplit:-1,dirtyAction:0,autoSave:!0,autoSaveHandle:void 0,displayAlert:!1,onAlertOk:void 0,onAlertCancel:void 0,alertOkText:void 0,alertCancelText:void 0,alertText:void 0,resourceUpdateHandle:void 0,splitClipboard:void 0},a}return Object(d.a)(n,[{key:"recalculateResources",value:function(t,e){var n=this;if(this.state.resourceUpdateHandle){if(t>this.state.branches.length)return;if(t>this.state.dirtyBranch)return;if(t===this.state.dirtyBranch&&e>this.state.dirtySplit)return}this.state.resourceUpdateHandle&&window.clearTimeout(this.state.resourceUpdateHandle),this.setState(Object(o.a)({dirtyBranch:t,dirtySplit:e,dirtyAction:0,resourceUpdateHandle:void 0},function(t,e,n){if(!t.error)return{};if(t.error.branch<e)return{};if(t.error.branch===e&&t.error.split<n)return{};var a=J(t);return a.error=void 0,{resources:a}}(this.state.resources,t,e)),(function(){var t=window.setTimeout((function(){n.doCalcResources()}),100);n.setState({resourceUpdateHandle:t,info:"Updating Resources"})}))}},{key:"doCalcResources",value:function(){var t=this,e=this.state.dirtyBranch,n=this.state.dirtySplit,a=this.state.dirtyAction;if(console.log("calc resource, b=".concat(e,", s=").concat(n,", a=").concat(a)),e>=this.state.branches.length)this.finishResourceUpdate();else{for(;n>=this.state.branches[e].splits.length;){if(++e>=this.state.branches.length)return void this.finishResourceUpdate();n=0}for(;a>=this.state.branches[e].splits[n].actions.length;){for(n++;n>=this.state.branches[e].splits.length;){if(++e>=this.state.branches.length)return void this.finishResourceUpdate();n=0}a=0}var s=function(t,e,n,a,s,i){if(t.error)return{};var c,o,l=J(t),d=e[a].splits[s].actions[i];if(d.deltaError)return l.error={branch:a,split:s,action:i,message:d.deltaError},{resources:l};var u=F(e,a,s,i),h=Object(r.a)(u,4),b=h[0],p=h[1],j=h[2];if(h[3]){var v=X(t.content[b][p][j],n,d.deltas),f=Object(r.a)(v,2);c=f[0],o=f[1]}else{var m=X({},n,d.deltas),x=Object(r.a)(m,2);c=x[0],o=x[1]}return o?l.error={branch:a,split:s,action:i,message:o}:(l.content||(l.content=[]),l.content[a]||(l.content[a]=[]),l.content[a][s]||(l.content[a][s]=[]),l.content[a][s][i]=c),{resources:l}}(this.state.resources,this.state.branches,this.state.items,e,n,a);this.setState(Object(o.a)({dirtyBranch:e,dirtySplit:n,dirtyAction:a+1},s),(function(){var s=window.setTimeout((function(){t.doCalcResources()}),100);t.setState({resourceUpdateHandle:s,info:'Resources updated for "'.concat(t.state.branches[e].name,'" Branch, "').concat(t.state.branches[e].splits[n].name,'" Split: ').concat(t.state.branches[e].splits[n].actions[a].name)})}))}}},{key:"finishResourceUpdate",value:function(){this.state.resourceUpdateHandle&&window.clearTimeout(this.state.resourceUpdateHandle),this.setState({resourceUpdateHandle:void 0,info:"Resources update finished."})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.calculateDimensions.bind(this)),this.calculateDimensions(),this.loadStoredState(g),this.setAutoSave(!0)}},{key:"setAutoSave",value:function(t){var e=this;if(t){if(this.state.autoSaveHandle){var n=this.state.autoSaveHandle;this.setState({autoSaveHandle:window.setInterval((function(){e.saveStateToLocalStorage()}),2e4),autoSave:!0},(function(){window.clearInterval(n)}))}else this.setState({autoSaveHandle:window.setInterval((function(){e.saveStateToLocalStorage()}),2e4),autoSave:!0});this.saveStateToLocalStorage()}else{if(this.state.autoSaveHandle){var a=this.state.autoSaveHandle;this.setState({autoSaveHandle:void 0,autoSave:!1},(function(){window.clearInterval(a)}))}else this.setState({autoSave:!1});this.setInformation("Auto save is now off.")}}},{key:"loadStoredState",value:function(t,e){var n=this,a=e||Y(),s=t();s&&this.setState({branches:s.branches,activeBranch:s.activeBranch,activeSplit:s.activeSplit,projectName:s.projectName,items:s.items},(function(){n.setInformation("Data loaded in ".concat(Z(a)," ms")),n.recalculateResources(0,0)}))}},{key:"saveStateToLocalStorage",value:function(){var t=Y();!function(t){var e=JSON.stringify(E(t));localStorage.setItem(S,e)}(this.getStateToStore()),this.setInformation("Saved to local storage in ".concat(Z(t)," ms. Last saved at ").concat(new Date))}},{key:"getStateToStore",value:function(){return{branches:this.state.branches,activeBranch:this.state.activeBranch,activeSplit:this.state.activeSplit,activeAction:this.state.activeAction,projectName:this.state.projectName,itmes:this.state.items}}},{key:"calculateDimensions",value:function(){var t=at(this.state.sideCollapsed,this.state.resourcesCollapsed,this.state.headerCollapsed);this.setState({dimensions:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateDimensions.bind(this)),this.state.autoSaveHandle&&window.clearInterval(this.state.autoSaveHandle),this.state.resourceUpdateHandle&&window.clearTimeout(this.state.resourceUpdateHandle)}},{key:"setSideCollapsed",value:function(t){this.setState({sideCollapsed:t,dimensions:at(t,this.state.resourcesCollapsed,this.state.headerCollapsed)})}},{key:"setResourcesCollapsed",value:function(t){this.setState({resourcesCollapsed:t,dimensions:at(this.state.sideCollapsed,t,this.state.headerCollapsed)})}},{key:"setHeaderCollapsed",value:function(t){this.setState({headerCollapsed:t,dimensions:at(this.state.sideCollapsed,this.state.resourcesCollapsed,t)})}},{key:"setInformation",value:function(t){this.setState({info:t})}},{key:"setProjectName",value:function(t){this.setState({projectName:t})}},{key:"doToBranches",value:function(t,e,n,a){var s=this,i=Y();this.setState(Object(o.a)({},t({branches:this.state.branches,activeBranch:this.state.activeBranch,activeAction:this.state.activeAction,activeSplit:this.state.activeSplit})),(function(){e&&s.setInformation("".concat(e," (").concat(Z(i),"ms)")),void 0!==n&&s.recalculateResources(n,a||0)}))}},{key:"doToItems",value:function(t,e,n){var a=this,s=Y();this.setState(Object(o.a)({},t({branches:this.state.branches,items:this.state.items})),(function(){e&&a.setInformation("".concat(e," (").concat(Z(s),"ms)")),n&&a.recalculateResources(0,0)}))}},{key:"displayAlert",value:function(t,e,n,a,s){this.setState({displayAlert:!0,onAlertOk:n,onAlertCancel:s,alertOkText:e,alertCancelText:a,alertText:t})}},{key:"hideAlert",value:function(){this.setState({displayAlert:!1,onAlertOk:void 0,onAlertCancel:void 0,alertOkText:void 0,alertCancelText:void 0})}},{key:"downloadStateToFile",value:function(){!function(t){var e=JSON.stringify(E(t)),n=new Blob([e],{type:"text"}),a=document.createElement("a"),s=(t.projectName||"Resource_Routing")+".json";a.download=s,a.href=URL.createObjectURL(n),a.dataset.downloadurl=["text",a.download,a.href].join(":"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((function(){URL.revokeObjectURL(a.href)}),1500)}(this.getStateToStore())}},{key:"openSplit",value:function(t,e){var n=this,a=Y();this.setState({activeBranch:t,activeSplit:e,activeAction:-1},(function(){n.setInformation("Split detail opened. (".concat(Z(a),"ms)"))}))}},{key:"openAction",value:function(t){var e=this;if(this.state.activeBranch>=0&&this.state.activeSplit>=0){var n=Y();this.setState({activeAction:t},(function(){e.setInformation("Action resources opened. (".concat(Z(n),"ms)"))}))}}},{key:"render",value:function(){var t=this;if(!this.state.dimensions)return null;var e,n,a={setSideCollapsed:this.setSideCollapsed.bind(this),setResourcesCollapsed:this.setResourcesCollapsed.bind(this),setHeaderCollapsed:this.setHeaderCollapsed.bind(this),setInformation:this.setInformation.bind(this),setAutoSave:this.setAutoSave.bind(this),displayAlert:this.displayAlert.bind(this),hideAlert:this.hideAlert.bind(this),saveStateToLocalStorage:this.saveStateToLocalStorage.bind(this),download:this.downloadStateToFile.bind(this),setProjectName:this.setProjectName.bind(this),loadStoredState:this.loadStoredState.bind(this),recalculateResources:this.recalculateResources.bind(this),doToBranches:this.doToBranches.bind(this),copySplit:function(e){return t.setState({splitClipboard:B(e),info:"Split copied."})},splitClipboard:this.state.splitClipboard,openSplit:this.openSplit.bind(this),doToItems:this.doToItems.bind(this)},s=this.state.activeBranch>=0&&this.state.activeBranch<this.state.branches.length&&this.state.activeSplit>=0&&this.state.activeSplit<this.state.branches[this.state.activeSplit].splits.length;if(s&&(this.state.resources.content&&this.state.resources.content[this.state.activeBranch]&&this.state.resources.content[this.state.activeBranch][this.state.activeSplit])){e=this.state.resources.content[this.state.activeBranch][this.state.activeSplit][this.state.activeAction];var i=F(this.state.branches,this.state.activeBranch,this.state.activeSplit,this.state.activeAction),c=Object(r.a)(i,4),o=c[0],l=c[1],d=c[2];if(n={},c[3])if(this.state.resources.content[o])this.state.resources.content[o][l]&&(n=this.state.resources.content[o][l][d])}return Object(p.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(p.jsx)(j,{layout:this.state.dimensions.header,borderClass:"border overflow-hidden",children:Object(p.jsx)($,{autoSave:this.state.autoSave,sideCollapsed:this.state.sideCollapsed,headerCollapsed:this.state.headerCollapsed,projectName:this.state.projectName,actions:a})}),Object(p.jsx)(j,{layout:this.state.dimensions.side,borderClass:"border",children:Object(p.jsx)(V,{layout:this.state.dimensions.side,sideCollapsed:this.state.sideCollapsed,actions:a,branches:this.state.branches})}),Object(p.jsx)(j,{layout:this.state.dimensions.footer,borderClass:"border",children:Object(p.jsx)(st,{text:this.state.info})}),Object(p.jsx)(j,{layout:this.state.dimensions.map,children:Object(p.jsx)("iframe",{src:"https://objmap.zeldamods.org/#/map/z3,0,4",title:"Object Map",width:"100%",height:"100%"})}),Object(p.jsx)(j,{layout:this.state.dimensions.actions,borderClass:"border",children:Object(p.jsx)(lt,{layout:this.state.dimensions.actions,resourcesCollapsed:this.state.resourcesCollapsed,actions:a,actionList:s&&this.state.branches[this.state.activeBranch].splits[this.state.activeSplit].actions,splitName:s&&this.state.branches[this.state.activeBranch].splits[this.state.activeSplit].name,splitIndex:this.state.activeSplit,branchIndex:this.state.activeBranch})}),!this.state.dimensions.resources.hide&&Object(p.jsx)(j,{layout:this.state.dimensions.resources,borderClass:"border",children:Object(p.jsx)(ft,{layout:this.state.dimensions.resources,actions:a,resourcesCollapsed:this.state.resourcesCollapsed,sideCollapsed:this.state.sideCollapsed,items:this.state.items,actionResources:e,lastActionResources:n})}),Object(p.jsx)(dt,{enabled:this.state.displayAlert,text:this.state.alertText,okText:this.state.alertOkText,cancelText:this.state.alertCancelText,onOk:this.state.onAlertOk,onCancel:this.state.onAlertCancel})]})}}]),n}(s.a.Component);c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(mt,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.103f676b.chunk.js.map